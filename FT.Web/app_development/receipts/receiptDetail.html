<div class="panel panel-primary">
    <div class="panel-heading" style="font-size: large">
        {{::vm.title}}
    </div>
    <div class="panel-body">
        <div class="row">
            <form class="form-horizontal css-form" name="receiptForm" ng-submit="vm.saveReceipt(receiptForm)" novalidate>
                <div class="col-md-9">


                    <div class="form-group formSpacing" show-errors>

                        <label class="control-label col-md-2">Id:</label>

                        <div class="col-md-3" ng-show="!vm.editMode">
                            <div class="input-group col-md-12">
                                <span class="editForm">{{ vm.receipt.id }}</span>
                            </div>
                        </div>


                        <div class="col-md-3" ng-show="vm.editMode">
                            <div class="input-group col-md-12">
                                <input type="text" class="form-control" id="standard-form" required disabled name="id" ng-model="vm.receipt.id">
                            </div>
                        </div>

                    </div>

                    <div class="form-group formSpacing" show-errors>

                        <label class="control-label col-md-2">Received Date:</label>

                        <div class="col-md-3" ng-show="!vm.editMode">
                            <div class="input-group col-md-12">
                                <span class="editForm">{{ vm.receipt.receivedDate | date:'longDate' : '-1400' }}</span>
                            </div>
                        </div>

                        <div class="col-md-3" ng-show="vm.editMode">
                            <div class="input-group col-md-12">
                                <input type="text" required class="form-control standard-form" datepicker-popup="{{vm.datePicker.format}}" name="receivedDate" ng-model="vm.receipt.receivedDate" is-open="vm.datePicker.opened" min-date="minDate" max-date="'2020-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="vm.datePicker.open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </div>
                        </div>

                    </div>


                    <div class="form-group formSpacing" show-errors>

                        <label class="control-label col-md-2">Check Number:</label>

                        <div class="col-md-3" ng-show="!vm.editMode">
                            <div class="input-group col-md-12">
                                <span class="editForm">{{ vm.receipt.checkNumber }}</span>
                            </div>
                        </div>

                        <div class="col-md-3" ng-show="vm.editMode">
                            <div class="input-group col-md-12 standard-form">
                                <input type="text" class="form-control" id="standard-form" required name="checkNumber" ng-model="vm.receipt.checkNumber">
                            </div>
                        </div>

                    </div>


                    <div class="form-group formSpacing" show-errors>

                        <label class="control-label col-md-2">Subservicer:</label>

                        <div class="col-md-3" ng-show="!vm.editMode">
                            <div class="input-group col-md-12">
                                <span class="editForm">{{ vm.receipt.servicer.name }}</span>
                            </div>
                        </div>

                        <div class="col-md-3" ng-show="vm.editMode">
                            <div class="input-group col-md-12">
                                <select class="form-control" id="standard-form" required name="servicer" ng-model="vm.receipt.servicer.id">
                                    <option ng-repeat="option in vm.servicers" value="{{option.id}}">{{option.name}}</option>
                                </select>
                            </div>
                        </div>

                    </div>


                    <div class="form-group formSpacing" show-errors>

                        <label class="control-label col-md-2">Receipt Type:</label>

                        <div class="col-md-3" ng-show="!vm.editMode">
                            <div class="input-group col-md-12">
                                <span class="editForm">{{ vm.receipt.receiptType.name}}</span>
                            </div>
                        </div>

                        <div class="col-md-3" ng-show="vm.editMode">
                            <div class="input-group col-md-12">
                                <select class="form-control dropdown" id="standard-form" required name="receiptType" ng-model="vm.receipt.receiptType.id">
                                    <option ng-repeat="option in vm.receiptTypes" value="{{option.id}}">{{option.name}}</option>
                                </select>
                            </div>
                        </div>

                    </div>


                    <div class="form-group formSpacing" show-errors>

                        <label class="control-label col-md-2">Amount:</label>

                        <div class="col-md-3" ng-show="!vm.editMode">
                            <div class="input-group col-md-12">
                                <span class="editForm">{{ vm.receipt.totalAmount | currency}}</span>
                            </div>
                        </div>

                        <div class="col-md-3" ng-show="vm.editMode">
                            <div class="input-group col-md-12">
                                <span class="input-group-addon">
                                    $
                                </span>
                                <input type="text" required name="totalAmount" class="form-control" ng-model="vm.receipt.totalAmount" currency-mask>
                            </div>
                        </div>

                    </div>
                </div>
            </form>
            <div class="col-md-3">
                <img class="center-block img-responsive"
                     style="width: 100px; margin: 2px;"
                     ng-src="{{vm.imageUrl}}"
                     title="{{vm.receipt.checkNumber}}">
            </div>
        </div>
        <display-comments></display-comments>

    </div>
    <div class="panel-footer" ng-show="!vm.editMode">
        <a class="btn btn-default"
           ui-sref="receipts"
           style="width: 100px">
            <i class="glyphicon glyphicon-chevron-left"></i>
            Back
        </a>
        <a class="btn btn-default" href="#"
           style="width: 200px" ng-click="vm.flipOnEditMode()">

            Edit Receipt
        </a>
    </div>

    <div class="panel-footer" ng-show="vm.editMode">
        <a class="btn btn-danger"
           ng-click="vm.flipOnEditMode()"
           style="width: 100px">
            <i class="glyphicon glyphicon-chevron-left"></i>
            Cancel
        </a>
        <a class="btn btn-success"
           ng-click="vm.updateReceiptDetails()"
           style="width: 200px">

            Save Changes
        </a>
    </div>


</div>

